{{ file_header }}

#warning("Manually move this test file to the corresponding test target.")
{% if test_imports %}

{% for import in test_imports %}
import {{ import }}
{% endfor %}
{% endif %}

final class {{ node_name }}FlowTests: XCTestCase {

    {% if view_controller_properties or view_controller_methods %}
    private final class {{ node_name }}ViewControllableMock: UIViewController, {{ node_name }}ViewControllable {
        {% if view_controller_properties %}

        {{ view_controller_properties|indent:8 }}
        {% endif %}
        {% if view_controller_methods %}

        {{ view_controller_methods|indent:8 }}
        {% endif %}
    }
    {% else %}
    private final class {{ node_name }}ViewControllableMock: UIViewController, {{ node_name }}ViewControllable {}
    {% endif %}

    private var flow: {{ node_name }}FlowImp!
    private var contextMock: {{ node_name }}ContextInterfaceMock!
    private var viewControllableMock: {{ node_name }}ViewControllableMock!

    override func setUp() {
        super.setUp()
        contextMock = {{ node_name }}ContextInterfaceMock(isActive: true)
        viewControllableMock = {{ node_name }}ViewControllableMock()
        flow = {{ node_name }}FlowImp(
            context: contextMock,
            viewController: viewControllableMock{% if flow_properties %}{{ ',' }}
            {% endif %}
            {% for property in flow_properties %}
            {{ property.name }}: {{ property.type }}{% if not forloop.last %}{{ ',' }}
            {% endif %}
            {% endfor +%}
        )
    }

    override func tearDown() {
        contextMock = nil
        viewControllableMock = nil
        flow = nil
        super.tearDown()
    }

    func testNotNil() {
        XCTAssertNotNil(flow)
    }

    func testStart() {
        flow.start()
        XCTAssertTrue(flow.isStarted)
    }
}
